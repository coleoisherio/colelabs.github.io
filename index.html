<script>
    // 1. Loading Handling
    window.addEventListener('load', () => {
      const loader = document.getElementById('loading-curtain');
      
      // Ensure the loader disappears after 1 second, even if other resources are slow
      setTimeout(() => {
        if(loader) {
          loader.style.opacity = 0;
          setTimeout(() => loader.style.display = 'none', 1000);
        }
      }, 1000); // Wait 1 second before starting to fade out the 'LOADING LABS...' screen

      // Optional: Auto-skip the intro after a few seconds if the user doesn't click
      // If you want the intro to play automatically:
      // setTimeout(skipIntro, 4000); 
    });

    // 2. Intro Skip
    function skipIntro() {
      const intro = document.querySelector('.intro-container');
      intro.classList.add('fade-out');
      
      // Wait for the CSS transition (1s) to finish before setting display: none
      setTimeout(() => {
        intro.style.display = 'none';
      }, 1000); 
      
      document.body.style.overflow = 'hidden'; // Keep hub centered
    }

    // 3. Navigation Logic
    function showSection(id) {
      const overlay = document.getElementById('transition-overlay');
      overlay.classList.add('active');

      setTimeout(() => {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        const target = document.getElementById(id);
        if(target) target.classList.add('active');
        overlay.classList.remove('active');
      }, 500);
    }

    function hideAllSections() {
      const overlay = document.getElementById('transition-overlay');
      overlay.classList.add('active');

      setTimeout(() => {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        overlay.classList.remove('active');
      }, 500);
    }

    // 4. Modal Logic
    function openExample(title) {
      const modal = document.getElementById('example-modal');
      const content = document.getElementById('example-content');
      content.innerHTML = `
        <h3 style="margin-bottom:10px; color:#000;">${title}</h3>
        <p>This is a placeholder for the expanded view of this work. Imagine a high-res image or video here.</p>
        <button onclick="document.getElementById('example-modal').style.display='none'" style="margin-top:20px;">CLOSE</button>
      `;
      modal.style.display = 'block';
    }
  </script>
